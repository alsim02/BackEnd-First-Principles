# Appunti: Authentication & Authorization

## 1. Introduzione
- **Authentication:** processo per stabilire "Chi sei?" in un dato contesto (es. piattaforma, sistema operativo).
- **Authorization:** processo per determinare "Cosa puoi fare?" nel contesto, definendo permessi e capacità.
- Questi due concetti sono fondamentali per la sicurezza e il controllo degli accessi nelle applicazioni backend.

## 2. Contesto storico dell'autenticazione
- In passato, autenticazione basata su fiducia implicita (es. riconoscimento da parte di un anziano della tribù).
- Difficoltà di scalabilità con l'aumentare delle interazioni tra soggetti sconosciuti.
- Introdotti metodi più espliciti come sigilli (seal) e firme, precursori di meccanismi criptografici moderni.
- Passaggio a segreti condivisi (passphrase) durante la Rivoluzione Industriale con metodi di comunicazione come il telegrafo.

## 3. Evoluzione digitale
- Anni '60: introduzione delle password per sistemi multiutente, problemi di sicurezza a causa di archiviazione in chiaro.
- Sviluppo di hash crittografici per archiviare password in modo sicuro.
- Anni '70: esplosione della crittografia asimmetrica e infrastrutture a chiave pubblica (PKI).
- Nascita di protocolli di autenticazione basati su ticket (es. Kerberos) e sistemi a token.

## 4. Metodi moderni e sfide
- Necessità di metodi scalabili con l’avvento di Internet.
- **Multi-Factor Authentication (MFA):** combinazione di "qualcosa che sai" (password), "qualcosa che hai" (token hardware), e "qualcosa che sei" (biometria).
- Biometria basata su riconoscimento modelli, ma con sfide legate a falsi positivi/negativi e sicurezza dei template.

## 5. Tempi moderni di autenticazione
- Aumento di cloud computing, dispositivi mobili e architetture API-driven richiedono sistemi più robusti.
- Protocolli attuali: OAuth2, OpenID Connect, JWT, passwordless authentication, zero trust.
- Emerse idee future come identità decentralizzate (blockchain), biometria comportamentale, e crittografia post-quantistica.

## 6. Componenti chiave nelle autenticazioni moderne
### Sessions
- Metodo tradizionale per superare la "statelessness" di HTTP.
- Server crea una sessione con ID univoco, memorizza dati utente su database o store in-memory (es. Redis).
- Session ID inviato al client come cookie; client lo manda in ogni richiesta per identificarsi.
- Limiti: scalabilità complessa e gestione distribuita.

### JSON Web Tokens (JWT)
- Token stateless che contiene dati utente (user ID, ruolo, etc.) in formato codificato Base64.
- Composto da header, payload e firma per garantire integrità.
- Vantaggi: non richiede memorizzazione sul server (scalabile), facilmente verificabile.
- Svantaggi: difficile revoca di token prima della scadenza, rischio di furto-token impersonificazione.

### Hybrid approach
- Combina stateless JWT e sessione tradizionale.
- JWT verificato sul server, ma si mantiene una blacklist per revocare accessi specifici.
- Risolve problemi di revoca migliorando sicurezza.

### Cookies
- Memorizzano dati lato client usati dal server per identificazione.
- Cookie HTTP only non accessibili da JavaScript, aumentano sicurezza.
- Automatizzano invio di token/session ID con ogni richiesta.

## 7. Tipi di autenticazione
### Stateful Authentication
- Memorizzazione server-side di sessioni.
- Vantaggi: controllo centralizzato, facile revoca accessi.
- Svantaggi: meno scalabile, complessità in sistemi distribuiti.

### Stateless Authentication
- Basata su token (JWT).
- Vantaggi: scalabilità, adatta a microservizi e mobile.
- Svantaggi: complessità revoca, gestione sicurezza token.

### API Key
- Stringhe crittografiche generate per identificare e autorizzare macchine o servizi.
- Ideale per comunicazioni machine-to-machine senza interazione umana.
- Facilmente generabili, immutabili a meno di rigenerazione.
- Usate per accedere a servizi programmabili (es. OpenAI API).

## 8. Consigli pratici
- Per sistemi mediamente complessi o grandi, è consigliabile affidarsi a provider di autenticazione esterni (es. OAuth providers).
- Implementare propri sistemi richiede conoscenze approfondite di sicurezza, gestione di hash, salting, criptografia e protocolli.
- Conoscere i pro e i contro di ogni metodo aiuta a scegliere l’approccio più adatto al proprio progetto.

---

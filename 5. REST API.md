# Appunti: Complete REST API Design

## 1. Introduzione e contesto storico
- Tim Berners-Lee ha inventato il World Wide Web nel 1990, creando tecnologie fondamentali come URI, HTTP, HTML, web server e browser.
- La crescita esponenziale degli utenti ha reso necessario sviluppare standard per scalare il web.
- Roy Fielding ha proposto i vincoli REST per migliorare scalabilità, modularità e manutenibilità.

## 2. Vincoli dell’architettura REST
- **Client-server:** separazione netta tra client (UI, esperienza utente) e server (logica, storage).
- **Uniform interface:** interfaccia standardizzata con identificazione delle risorse, manipolazione tramite rappresentazioni, messaggi auto-descrittivi e hypermedia.
- **Layered system:** architettura a livelli per scalabilità e sicurezza (es. proxy, load balancer).
- **Cache:** risposte chiaramente etichettate cachable o no, per migliorare performance.
- **Stateless:** ogni richiesta contiene tutte le informazioni, nessuna memoria lato server.
- **Code on demand (opzionale):** server può inviare codice eseguibile al client (es. JavaScript).

## 3. Cosa significa RESTful API
- API che rispetta i vincoli REST, facilitando scalabilità e interoperabilità.
- Risorse rappresentate in diversi formati (JSON, XML, HTML).
- Stato (state) è rappresentazione corrente di una risorsa trasferita client-server.

## 4. Struttura URL e best practice
- URL composto da schema (http/https), dominio, versione API, e percorso risorsa.
- Usa **sottodominio "api"** per separare API dal sito principale.
- Versiona API tramite percorso (es. `/v1/`, `/v2/`).
- Usa nomi di risorsa **al plurale** nel percorso (es. `/books` non `/book`).
- Evita spazi e caratteri speciali; usa "slug" leggibili in minuscolo con trattini (`-`) per spazi.

## 5. Impotenza (Idempotency) dei metodi HTTP
- Operazioni idempotenti producono lo stesso risultato anche se chiamate più volte.
- Metodi idempotenti: GET (recupera dati), PUT (sostituisce risorsa), PATCH (aggiorna parzialmente), DELETE (elimina risorsa).
- POST è **non idempotente** perché produce nuove risorse o cambiamenti multipli con richieste ripetute.

## 6. Uso dei metodi HTTP nelle API REST
- **GET:** recuperare risorse senza modifiche.
- **POST:** creare nuove risorse o azioni custom.
- **PUT:** sostituzione completa di risorsa.
- **PATCH:** modifica parziale di risorsa.
- **DELETE:** eliminazione risorsa.

## 7. Gestione azioni non CRUD via POST
- Operazioni custom o non CRUD (es. inviare email) si mappano tipicamente con POST, che è metodo open-ended.

## 8. Progettazione dell’interfaccia API
- Prima di codificare, disegnare API basandosi su wireframe UI e use case utenti.
- Deriva risorse (nouns) dalle funzionalità: es. utenti, progetti, task, organizzazioni.
- Mappare operazioni CRUD su ciascuna risorsa.

## 9. Vantaggi di seguire uno standard REST
- Consistenza nell’interfaccia API, riducendo confusione ed errori nell’integrazione.
- Riduzione di tempi e costi nello sviluppo e manutenzione.
- Facilità nella documentazione, testing e scalabilità.

---
